const circularProgressBar=document.querySelector("#circularProgressBar"),circularProgressBarNumber=document.querySelector("#circularProgressBar .progress-value"),buttonTypePomodoro=document.querySelector("#buttonTypePomodoro"),buttonTypeShortBreak=document.querySelector("#buttonTypeShortBreak"),buttonTypeLongBreak=document.querySelector("#buttonTypeLongBreak");let pomodoroTimerInSeconds=1500,shortBreakTimerInSeconds=5,longBreakTimerInSeconds=900;const val=document.getElementById("pomodoro-timer"),short=document.getElementById("short-timer"),long=document.getElementById("long-timer"),num=document.querySelector(".progress-value"),TIMER_TYPE_POMODORO="POMODORO";let progressInterval,pomodoroType=TIMER_TYPE_POMODORO,timerValue=pomodoroTimerInSeconds,multiplierFactor=360/timerValue;const TIMER_TYPE_SHORT_BREAK="SHORTBREAK",TIMER_TYPE_LONG_BREAK="LONGBREAK",inputVal=document.querySelector(".input-val"),pomodoroSet=document.querySelector(".pomodoro"),shortSet=(pomodoroSet.querySelectorAll(".btns").forEach(e=>{e.querySelector(".btn-incrise").addEventListener("click",()=>{val.stepUp(),val.click()}),e.querySelector(".btn-decrise").addEventListener("click",()=>{val.stepDown(),val.click()})}),val.addEventListener("click",e=>{e=e.target.value;num.innerHTML=formatNumberInStringMinute(60*e),pomodoroTimerInSeconds=60*e,resetTimer()}),document.querySelector(".short")),longSet=(shortSet.querySelectorAll(".btns").forEach(e=>{e.querySelector(".btn-incrise").addEventListener("click",()=>{short.stepUp(),short.click()}),e.querySelector(".btn-decrise").addEventListener("click",()=>{short.stepDown(),short.click()})}),short.addEventListener("click",e=>{e=e.target.value;num.innerHTML=formatNumberInStringMinute(60*e),shortBreakTimerInSeconds=60*e,resetTimer()}),document.querySelector(".long"));function formatNumberInStringMinute(e){return Math.trunc(e/60).toString().padStart(2,"0")+":"+Math.trunc(e%60).toString().padStart(2,"0")}longSet.querySelectorAll(".btns").forEach(e=>{e.querySelector(".btn-incrise").addEventListener("click",()=>{long.stepUp(),long.click()}),e.querySelector(".btn-decrise").addEventListener("click",()=>{long.stepDown(),long.click()})}),long.addEventListener("click",e=>{e=e.target.value;num.innerHTML=formatNumberInStringMinute(60*e),longBreakTimerInSeconds=60*e,resetTimer()});const startTimer=()=>{progressInterval=setInterval(()=>{timerValue--,setInfoCircularProgressBar()},1e3)},stopTimer=()=>{clearInterval(progressInterval)},resetTimer=()=>{clearInterval(progressInterval),pomodoroType===TIMER_TYPE_SHORT_BREAK?timerValue=shortBreakTimerInSeconds:pomodoroType===TIMER_TYPE_LONG_BREAK?timerValue=longBreakTimerInSeconds:pomodoroType===TIMER_TYPE_POMODORO&&(timerValue=pomodoroTimerInSeconds),multiplierFactor=360/timerValue,setInfoCircularProgressBar()},audio=new Audio("../sounds/devil.mp3");function setInfoCircularProgressBar(){0===timerValue&&(stopTimer(),reset.classList.remove("hide"),stoped.classList.add("hide")),circularProgressBarNumber.textContent=""+formatNumberInStringMinute(timerValue),circularProgressBar.style.background=`conic-gradient( var(--color-r) ${timerValue*multiplierFactor}deg, #4f4f4f44 0deg)`}const setPomomodoroType=e=>{(pomodoroType=e)===TIMER_TYPE_POMODORO&&(buttonTypeShortBreak.classList.remove("active"),buttonTypeLongBreak.classList.remove("active"),buttonTypePomodoro.classList.add("active")),e===TIMER_TYPE_SHORT_BREAK&&(buttonTypePomodoro.classList.remove("active"),buttonTypeLongBreak.classList.remove("active"),buttonTypeShortBreak.classList.add("active")),e===TIMER_TYPE_LONG_BREAK&&(buttonTypePomodoro.classList.remove("active"),buttonTypeShortBreak.classList.remove("active"),buttonTypeLongBreak.classList.add("active")),resetTimer()},start=document.getElementById("start"),stoped=document.getElementById("stop"),reset=document.getElementById("reset");function onBtnActive(e){document.querySelectorAll(".active__font").forEach(e=>{e.className=e.className.replace("active__font","")}),e.target.className+=" active__font"}start.onclick=function(){startTimer(),start.classList.add("hide"),stoped.classList.remove("hide")},stoped.onclick=function(){stopTimer(),stoped.classList.add("hide"),start.classList.remove("hide"),start.classList.toggle("second-stop")},reset.onclick=function(){resetTimer(),stoped.classList.remove("hide"),start.classList.add("hide"),reset.classList.add("hide"),startTimer()};const btnSFont=document.querySelector(".menu-font-btns"),kumbh=(btnSFont.addEventListener("click",onBtnActive,!1),document.getElementById("font-kumbh")),roboto=document.getElementById("font-roboto"),mono=document.getElementById("font-mono"),fontFamilys=document.querySelector(".container");fontFamilys.querySelectorAll(".font__btn").forEach(function(e){e.addEventListener("click",function(){fontFamilys.querySelector(".card").style.fontFamily=this.value})});let colors;const targetColor=()=>{fontFamilys.querySelectorAll(".color__btn").forEach(function(e){e.addEventListener("click",function(e){e=e.target.value;colors=e,fontFamilys.querySelector(".card").style.setProperty("--color-r",colors)})})},check=(targetColor(),document.querySelector(".check")),menu=document.querySelector(".setting-hide"),openBtn=document.querySelector(".settings__btn"),apply=(openBtn.addEventListener("click",()=>{menu.classList.remove("hide"),openBtn.disabled=!0,openBtn.classList.add("open-block")}),document.querySelector(".setting__btn-apply"));apply.addEventListener("click",()=>{menu.classList.add("hide"),openBtn.disabled=!1,openBtn.classList.remove("open-block")});